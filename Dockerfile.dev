FROM node:20-alpine
RUN npm install -g pnpm
WORKDIR /app
COPY . .
RUN pnpm install
RUN pnpm prisma generate
RUN pnpm prisma db push
EXPOSE 3000
CMD ["pnpm", "run", "dev"]